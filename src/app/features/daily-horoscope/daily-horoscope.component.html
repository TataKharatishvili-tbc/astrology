<div class="daily-horoscope-page">
    <div class="container">

        <!-- Header - მთავარი გვერდის სტილით -->
        <div class="page-header">
            <!-- <a routerLink="/" class="back-link">
                <i class="fa-solid fa-arrow-left"></i>
                <span>მთავარი</span>
            </a> -->
            <div class="header-content">
                <div class="header-left">
                    <div class="header-icon">
                        <i class="fa-solid fa-sun"></i>
                    </div>
                    <div class="header-text">
                        <h1 class="page-title">დღის ჰოროსკოპი</h1>
                        <p class="page-subtitle">{{ getCurrentDate() }}</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Zodiac Selector -->
        <div class="zodiac-selector">
            <button *ngFor="let sign of allSigns" [class.active]="selectedSign?.id === sign.id"
                (click)="selectSign(sign)" class="zodiac-btn">
                <svg xmlns="http://www.w3.org/2000/svg" [attr.viewBox]="getZodiacViewBox(sign.id)" class="btn-svg"
                    [innerHTML]="getZodiacSvgPath(sign.id)"></svg>
                <span class="btn-name">{{ sign.name }}</span>
            </button>
        </div>

        <!-- Horoscope Content -->
        <div class="horoscope-content" *ngIf="selectedSign">

            <!-- Loading State -->
            <div *ngIf="loading" class="loading">
                <i class="fa-solid fa-spinner fa-spin"></i>
                <p>იტვირთება...</p>
            </div>

            <!-- No Data Available -->
            <div *ngIf="!loading && !todayHoroscope" class="no-data">
                <i class="fa-solid fa-calendar-xmark"></i>
                <p>ამ დღისთვის ჰოროსკოპი ჯერ არ არის ხელმისაწვდომი</p>
            </div>

            <!-- Sign Info and Horoscope -->
            <div *ngIf="!loading && todayHoroscope">
                <!-- Sign Info -->
                <div class="sign-info">
                    <svg xmlns="http://www.w3.org/2000/svg" [attr.viewBox]="getZodiacViewBox(selectedSign.id)"
                        class="sign-symbol-svg" [innerHTML]="getZodiacSvgPath(selectedSign.id)"></svg>
                    <div class="sign-details">
                        <h2 class="sign-name">{{ selectedSign.name }}</h2>
                        <p class="sign-dates">{{ selectedSign.dateRange }}</p>
                        <div class="sign-meta">
                            <span class="meta-item">
                                <i class="fa-solid fa-fire"></i>
                                {{ selectedSign.element === 'fire' ? 'ცეცხლი' :
                                selectedSign.element === 'earth' ? 'მიწა' :
                                selectedSign.element === 'air' ? 'ჰაერი' : 'წყალი' }}
                            </span>
                            <span class="meta-item">
                                <i class="fa-solid fa-globe"></i>
                                {{ selectedSign.rulingPlanet }}
                            </span>
                        </div>
                    </div>
                </div>

                <!-- Horoscope Sections -->
                <div class="horoscope-sections">

                    <div class="section-card">
                        <div class="card-header">
                            <i class="fa-solid fa-sparkles"></i>
                            <h3>ზოგადი</h3>
                        </div>
                        <p class="card-text">{{ todayHoroscope.general }}</p>
                    </div>

                    <div class="section-card">
                        <div class="card-header">
                            <i class="fa-solid fa-heart"></i>
                            <h3>სიყვარული</h3>
                        </div>
                        <p class="card-text">{{ todayHoroscope.love }}</p>
                    </div>

                    <div class="section-card">
                        <div class="card-header">
                            <i class="fa-solid fa-briefcase"></i>
                            <h3>კარიერა</h3>
                        </div>
                        <p class="card-text">{{ todayHoroscope.career }}</p>
                    </div>

                    <div class="section-card">
                        <div class="card-header">
                            <i class="fa-solid fa-heart-pulse"></i>
                            <h3>ჯანმრთელობა</h3>
                        </div>
                        <p class="card-text">{{ todayHoroscope.health }}</p>
                    </div>

                    <div class="section-card">
                        <div class="card-header">
                            <i class="fa-solid fa-dollar-sign"></i>
                            <h3>ფინანსები</h3>
                        </div>
                        <p class="card-text">{{ todayHoroscope.finance }}</p>
                    </div>

                    <div class="section-card lucky-card">
                        <div class="card-header">
                            <i class="fa-solid fa-clover"></i>
                            <h3>საბედნიერო</h3>
                        </div>
                        <div class="lucky-items">
                            <div class="lucky-item">
                                <span class="lucky-label">რიცხვი</span>
                                <span class="lucky-value">{{ todayHoroscope.luckyNumber }}</span>
                            </div>
                            <div class="lucky-item">
                                <span class="lucky-label">ფერი</span>
                                <span class="lucky-value">{{ todayHoroscope.luckyColor }}</span>
                            </div>
                            <div class="lucky-item">
                                <span class="lucky-label">დღე</span>
                                <span class="lucky-value">{{ selectedSign.luckyDay }}</span>
                            </div>
                        </div>
                    </div>

                </div>
            </div>

        </div>

    </div>
</div>