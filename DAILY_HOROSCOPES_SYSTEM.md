# დღიური ჰოროსკოპების სისტემა

## მიმოხილვა

დღიური ჰოროსკოპების სისტემა მუშაობს თვიური ფაილების პრინციპზე. თითოეული თვისთვის იქმნება ცალკე JSON ფაილი, რომელიც შეიცავს ყველა დღის ჰოროსკოპებს 12-ვე ზოდიაქოს ნიშნისთვის.

## არქიტექტურა

```
src/
├── assets/
│   └── data/
│       ├── zodiac-signs.json                    # ზოდიაქოს ნიშნების ინფო
│       ├── daily-horoscopes-2026-02.json       # თებერვალი 2026
│       ├── daily-horoscopes-2026-03.json       # მარტი 2026
│       └── ...
├── app/
│   └── core/
│       └── services/
│           ├── zodiac.service.ts                # ზოდიაქოს სერვისი
│           └── horoscope.service.ts             # ჰოროსკოპის სერვისი
└── docs/
    └── DATA_STRUCTURE.md                        # მონაცემთა სტრუქტურის დოკუმენტაცია
```

**მნიშვნელოვანი:** დოკუმენტაცია (README.md) გადატანილია `docs/DATA_STRUCTURE.md`-ში, რადგან webpack-ის დინამიური იმპორტი ცდილობს დაა-bundle-ოს ყველა ფაილი `assets/data/` ფოლდერიდან, მათ შორის .md ფაილებიც.

## ფაილების სტრუქტურა

### daily-horoscopes-YYYY-MM.json

```json
{
  "year": 2026,
  "month": 2,
  "horoscopes": {
    "aries": {
      "1": {
        "general": "ზოგადი პროგნოზი",
        "love": "სიყვარულის პროგნოზი",
        "career": "კარიერის პროგნოზი",
        "health": "ჯანმრთელობის პროგნოზი",
        "finance": "ფინანსების პროგნოზი",
        "luckyNumber": 7,
        "luckyColor": "წითელი"
      },
      "2": { ... },
      ...
    },
    "taurus": { ... },
    "gemini": { ... },
    ...
  }
}
```

## როგორ მუშაობს

1. **ავტომატური ჩატვირთვა**: HoroscopeService ავტომატურად ტვირთავს მიმდინარე თვის ფაილს კონსტრუქტორში
2. **დინამიური იმპორტი**: ფაილი იტვირთება დინამიურად სახელის მიხედვით
3. **დღის მიღება**: სერვისი აბრუნებს კონკრეტული დღის ჰოროსკოპს თარიღის მიხედვით

## გამოყენება კოდში

```typescript
// HoroscopeService-ის ინჯექცია
constructor(private horoscopeService: HoroscopeService) {}

// დღევანდელი ჰოროსკოპის მიღება
const todayHoroscope = this.horoscopeService.getTodayHoroscope('aries');

// კონკრეტული დღის ჰოროსკოპი
const date = new Date(2026, 1, 14); // თებერვალი 14, 2026
const horoscope = this.horoscopeService.getDailyHoroscope('taurus', date);

// მთელი თვის ჰოროსკოპები
const monthHoroscopes = this.horoscopeService.getMonthlyHoroscopes('gemini');
```

## ახალი თვის დამატება

### ნაბიჯი 1: ფაილის შექმნა

შექმენით ფაილი სახელით: `daily-horoscopes-YYYY-MM.json`

მაგალითი: `daily-horoscopes-2026-03.json` მარტისთვის

### ნაბიჯი 2: სტრუქტურის დაკოპირება

დააკოპირეთ არსებული ფაილის სტრუქტურა:

```bash
# Windows PowerShell
Copy-Item src/assets/data/daily-horoscopes-2026-02.json src/assets/data/daily-horoscopes-2026-03.json
```

### ნაბიჯი 3: მონაცემების განახლება

1. გახსენით ფაილი
2. შეცვალეთ `year` და `month` ველები
3. შეავსეთ თითოეული ნიშნისთვის ყველა დღის მონაცემები

### ნაბიჯი 4: ვალიდაცია

დარწმუნდით რომ:
- ყველა 12 ნიშანი არის წარმოდგენილი
- თითოეულ დღეს აქვს ყველა საჭირო ველი
- დღეების რაოდენობა შეესაბამება თვეს (28, 29, 30 ან 31)

## მოვლა და ხარვეზების გამოსწორება

### ფაილი ვერ მოიძებნა

თუ სერვისმა ვერ იპოვა მიმდინარე თვის ფაილი:
1. შეამოწმეთ ფაილის სახელი: `daily-horoscopes-YYYY-MM.json`
2. დარწმუნდით რომ თვე არის ორნიშნა ფორმატში (01, 02, 03... 12)
3. დარწმუნდით რომ ფაილი არის `src/assets/data/` ფოლდერში

### ჰოროსკოპი არ გამოჩნდა

თუ კონკრეტული დღის ჰოროსკოპი არ გამოჩნდა:
1. შეამოწმეთ რომ დღე არსებობს JSON ფაილში
2. დარწმუნდით რომ ნიშნის ID სწორია
3. შეამოწმეთ ბრაუზერის კონსოლი შეცდომებისთვის

## მომავალი გაფართოებები

სამომავლოდ მსგავსი სისტემა შეიძლება გამოყენებულ იქნას:

- **თვიური ჰოროსკოპები**: `monthly-horoscopes-YYYY-MM.json`
- **წლიური ჰოროსკოპები**: `yearly-horoscopes-YYYY.json`
- **კვირის ჰოროსკოპები**: `weekly-horoscopes-YYYY-WW.json`

## მაგალითები

### მარტის ფაილის შექმნა

1. შექმენით: `daily-horoscopes-2026-03.json`
2. დააყენეთ:
```json
{
  "year": 2026,
  "month": 3,
  "horoscopes": { ... }
}
```

### თებერვლის ბისექტური წლის შემთხვევა

2024 არის ბისექტური წელი, ამიტომ თებერვალს 29 დღე აქვს:

```json
{
  "year": 2024,
  "month": 2,
  "horoscopes": {
    "aries": {
      "1": { ... },
      "2": { ... },
      ...
      "29": { ... }  // დამატებითი დღე
    }
  }
}
```

## ჯაჭვის ლოგიკა

```
აპლიკაცია ეშვება
    ↓
HoroscopeService constructor
    ↓
loadCurrentMonth() - იღებს მიმდინარე თარიღს
    ↓
დინამიურად ტვირთავს daily-horoscopes-YYYY-MM.json
    ↓
მონაცემები ინახება this.currentMonthData-ში
    ↓
კომპონენტი იღებს მონაცემებს getTodayHoroscope() მეთოდით
    ↓
ჰოროსკოპი გამოჩნდება გვერდზე
```

## შენიშვნები

- ფაილები უნდა იყოს UTF-8 ენკოდირებით
- JSON ფორმატი უნდა იყოს ვალიდური
- თითოეული თვისთვის უნდა შეიქმნას ცალკე ფაილი თვის დასაწყისში
- სერვისი ყოველთვის იღებს სისტემის მიმდინარე თარიღს
