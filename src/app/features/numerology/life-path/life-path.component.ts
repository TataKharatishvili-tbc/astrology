import { Component, OnInit } from '@angular/core';
import { CommonModule } from '@angular/common';
import { FormsModule } from '@angular/forms';

interface LifePathMeaning {
  number: number;
  title: string;
  description: string;
  traits: string[];
  careers: string[];
  challenges: string[];
  strengths: string[];
}

interface Star {
  left: number;
  top: number;
  delay: number;
  size: number;
  duration: number;
  type: 'twinkle' | 'moving' | 'static';
  brightness: number;
}

@Component({
  selector: 'app-life-path',
  imports: [CommonModule, FormsModule],
  templateUrl: './life-path.component.html',
  styleUrl: './life-path.component.scss'
})
export class LifePathComponent implements OnInit {
  day: number | null = null;
  month: number | null = null;
  year: number | null = null;
  stars: Star[] = [];

  lifePathNumber: number | null = null;
  calculationSteps: string[] = [];
  showResult = false;

  lifePathMeanings: LifePathMeaning[] = [
    {
      number: 1,
      title: 'рЃџрЃўрЃЊрЃћрЃарЃў рЃЊрЃљ рЃърЃўрЃЮрЃюрЃћрЃарЃў',
      description: 'рЃћрЃарЃЌрЃўрЃљрЃюрЃў рЃћрЃюрЃћрЃарЃњрЃўрЃљ рЃЏрЃЮрЃўрЃфрЃљрЃЋрЃА рЃЊрЃљрЃЏрЃЮрЃБрЃЎрЃўрЃЊрЃћрЃЉрЃџрЃЮрЃЉрЃљрЃА, рЃљрЃ«рЃљрЃџрЃў рЃўрЃЊрЃћрЃћрЃЉрЃўрЃА рЃњрЃљрЃюрЃ«рЃЮрЃарЃфрЃўрЃћрЃџрЃћрЃЉрЃљрЃА рЃЊрЃљ рЃџрЃўрЃЊрЃћрЃарЃЮрЃЉрЃљрЃА. рЃЌрЃЦрЃЋрЃћрЃю рЃЉрЃБрЃюрЃћрЃЉрЃарЃўрЃЋрЃў рЃЏрЃћрЃЌрЃљрЃБрЃарЃў рЃ«рЃљрЃарЃЌ.',
      traits: ['рЃЊрЃљрЃЏрЃЮрЃБрЃЎрЃўрЃЊрЃћрЃЉрЃћрЃџрЃў', 'рЃўрЃюрЃЮрЃЋрЃљрЃфрЃўрЃБрЃарЃў', 'рЃЌрЃљрЃЋрЃЊрЃљрЃ»рЃћрЃарЃћрЃЉрЃБрЃџрЃў', 'рЃЏрЃўрЃќрЃљрЃюрЃЊрЃљрЃАрЃљрЃ«рЃБрЃџрЃў'],
      careers: ['рЃЏрЃћрЃгрЃљрЃарЃЏрЃћ', 'рЃЏрЃћрЃюрЃћрЃ»рЃћрЃарЃў', 'рЃЏрЃ«рЃљрЃбрЃЋрЃљрЃарЃў', 'рЃњрЃљрЃЏрЃЮрЃЏрЃњрЃЮрЃюрЃћрЃЉрЃћрЃџрЃў'],
      challenges: ['рЃћрЃњрЃЮрЃўрЃќрЃЏрЃў', 'рЃЊрЃЮрЃЏрЃўрЃюрЃўрЃарЃћрЃЉрЃљ', 'рЃЏрЃЮрЃБрЃЌрЃЏрЃћрЃюрЃџрЃЮрЃЉрЃљ'],
      strengths: ['рЃџрЃўрЃЊрЃћрЃарЃЮрЃЉрЃљ', 'рЃЎрЃарЃћрЃљрЃбрЃўрЃБрЃџрЃЮрЃЉрЃљ', 'рЃњрЃљрЃЊрЃљрЃгрЃДрЃЋрЃћрЃбрЃўрЃџрЃћрЃЉрЃўрЃА рЃЏрЃўрЃдрЃћрЃЉрЃљ']
    },
    {
      number: 2,
      title: 'рЃЊрЃўрЃърЃџрЃЮрЃЏрЃљрЃбрЃў рЃЊрЃљ рЃЏрЃерЃЋрЃўрЃЊрЃЮрЃЉрЃўрЃАрЃЏрЃЮрЃДрЃЋрЃљрЃарЃћ',
      description: 'рЃЮрЃарЃўрЃљрЃюрЃў рЃћрЃюрЃћрЃарЃњрЃўрЃљ рЃцрЃЮрЃЎрЃБрЃАрЃўрЃарЃћрЃЉрЃБрЃџрЃўрЃљ рЃ░рЃљрЃарЃЏрЃЮрЃюрЃўрЃљрЃќрЃћ, рЃЌрЃљрЃюрЃљрЃЏрЃерЃарЃЮрЃЏрЃџрЃЮрЃЉрЃљрЃАрЃљ рЃЊрЃљ рЃБрЃарЃЌрЃўрЃћрЃарЃЌрЃЮрЃЉрЃћрЃЉрЃќрЃћ. рЃЌрЃЦрЃЋрЃћрЃю рЃЉрЃБрЃюрЃћрЃЉрЃарЃўрЃЋрЃў рЃЏрЃћрЃЊрЃўрЃљрЃбрЃЮрЃарЃў рЃ«рЃљрЃарЃЌ.',
      traits: ['рЃЌрЃљрЃюрЃљрЃЏрЃерЃарЃЮрЃЏрЃџрЃЮрЃЉрЃўрЃА рЃЏрЃЮрЃДрЃЋрЃљрЃарЃБрЃџрЃў', 'рЃЏрЃњрЃарЃФрЃюрЃЮрЃЉрЃўрЃљрЃарЃћ', 'рЃЊрЃўрЃърЃџрЃЮрЃЏрЃљрЃбрЃўрЃБрЃарЃў', 'рЃўрЃюрЃбрЃБрЃўрЃфрЃўрЃБрЃарЃў'],
      careers: ['рЃЎрЃЮрЃюрЃАрЃБрЃџрЃбрЃљрЃюрЃбрЃў', 'рЃЊрЃўрЃърЃџрЃЮрЃЏрЃљрЃбрЃў', 'рЃЏрЃљрЃАрЃгрЃљрЃЋрЃџрЃћрЃЉрЃћрЃџрЃў', 'рЃЌрЃћрЃарЃљрЃърЃћрЃЋрЃбрЃў'],
      challenges: ['рЃњрЃљрЃЊрЃљрЃГрЃљрЃарЃЉрЃћрЃЉрЃБрЃџрЃў рЃЏрЃњрЃарЃФрЃюрЃЮрЃЉрЃћрЃџрЃЮрЃЉрЃљ', 'рЃњрЃљрЃЊрЃљрЃгрЃДрЃЋрЃћрЃбрЃўрЃџрЃћрЃЉрЃўрЃА рЃБрЃБрЃюрЃљрЃарЃЮрЃЉрЃљ'],
      strengths: ['рЃћрЃЏрЃърЃљрЃЌрЃўрЃљ', 'рЃЏрЃерЃЋрЃўрЃЊрЃЮрЃЉрЃўрЃАрЃЏрЃЮрЃДрЃЋрЃљрЃарЃћрЃЮрЃЉрЃљ', 'рЃЌрЃљрЃюрЃљрЃЏрЃерЃарЃЮрЃЏрЃџрЃЮрЃЉрЃљ']
    },
    {
      number: 3,
      title: 'рЃерЃћрЃЏрЃЮрЃЦрЃЏрЃћрЃЊрЃў рЃЊрЃљ рЃЎрЃЮрЃЏрЃБрЃюрЃўрЃЎрЃљрЃбрЃЮрЃарЃў',
      description: 'рЃАрЃљрЃЏрЃўрЃљрЃюрЃў рЃћрЃюрЃћрЃарЃњрЃўрЃљ рЃњрЃљрЃЏрЃЮрЃ«рЃљрЃбрЃљрЃЋрЃА рЃЎрЃарЃћрЃљрЃбрЃўрЃБрЃџрЃЮрЃЉрЃљрЃА, рЃЮрЃърЃбрЃўрЃЏрЃўрЃќрЃЏрЃАрЃљ рЃЊрЃљ рЃЌрЃЋрЃўрЃЌрЃњрЃљрЃЏрЃЮрЃ«рЃљрЃбрЃЋрЃљрЃА. рЃЌрЃЦрЃЋрЃћрЃю рЃЉрЃБрЃюрЃћрЃЉрЃарЃўрЃЋрЃў рЃерЃћрЃЏрЃЮрЃЦрЃЏрЃћрЃЊрЃў рЃ«рЃљрЃарЃЌ.',
      traits: ['рЃЎрЃарЃћрЃљрЃбрЃўрЃБрЃџрЃў', 'рЃЮрЃърЃбрЃўрЃЏрЃўрЃАрЃбрЃБрЃарЃў', 'рЃАрЃЮрЃфрЃўрЃљрЃџрЃБрЃарЃў', 'рЃњрЃљрЃЏрЃЮрЃЏрЃ«рЃљрЃбрЃЋрЃћрЃџрЃў'],
      careers: ['рЃЏрЃ«рЃљрЃбрЃЋрЃљрЃарЃў', 'рЃЏрЃгрЃћрЃарЃљрЃџрЃў', 'рЃЏрЃАрЃљрЃ«рЃўрЃЮрЃЉрЃў', 'рЃЊрЃўрЃќрЃљрЃўрЃюрЃћрЃарЃў'],
      challenges: ['рЃцрЃЮрЃЎрЃБрЃАрЃўрЃА рЃЊрЃљрЃЎрЃљрЃарЃњрЃЋрЃљ', 'рЃќрЃћрЃЊрЃЏрЃћрЃбрЃў рЃЮрЃърЃбрЃўрЃЏрЃўрЃќрЃЏрЃў'],
      strengths: ['рЃерЃћрЃЏрЃЮрЃЦрЃЏрЃћрЃЊрЃћрЃЉрЃљ', 'рЃЎрЃЮрЃЏрЃБрЃюрЃўрЃЎрЃљрЃфрЃўрЃљ', 'рЃћрЃюрЃЌрЃБрЃќрЃўрЃљрЃќрЃЏрЃў']
    },
    {
      number: 4,
      title: 'рЃЏрЃерЃћрЃюрЃћрЃЉрЃћрЃџрЃў рЃЊрЃљ рЃЮрЃарЃњрЃљрЃюрЃўрЃќрЃљрЃбрЃЮрЃарЃў',
      description: 'рЃЮрЃЌрЃ«рЃўрЃљрЃюрЃў рЃћрЃюрЃћрЃарЃњрЃўрЃљ рЃљрЃАрЃљрЃ«рЃљрЃЋрЃА рЃАрЃбрЃљрЃЉрЃўрЃџрЃБрЃарЃЮрЃЉрЃљрЃА, рЃърЃарЃљрЃЦрЃбрЃўрЃЎрЃБрЃџрЃЮрЃЉрЃљрЃАрЃљ рЃЊрЃљ рЃЏрЃЮрЃгрЃћрЃАрЃарЃўрЃњрЃћрЃЉрЃБрЃџрЃЮрЃЉрЃљрЃА. рЃЌрЃЦрЃЋрЃћрЃю рЃЉрЃБрЃюрЃћрЃЉрЃарЃўрЃЋрЃў рЃЮрЃарЃњрЃљрЃюрЃўрЃќрЃљрЃбрЃЮрЃарЃў рЃ«рЃљрЃарЃЌ.',
      traits: ['рЃърЃарЃљрЃЦрЃбрЃўрЃЎрЃБрЃџрЃў', 'рЃАрЃљрЃўрЃЏрЃћрЃЊрЃЮ', 'рЃЊрЃўрЃАрЃфрЃўрЃърЃџрЃўрЃюрЃўрЃарЃћрЃЉрЃБрЃџрЃў', 'рЃерЃарЃЮрЃЏрЃўрЃАрЃЏрЃЮрЃДрЃЋрЃљрЃарЃћ'],
      careers: ['рЃўрЃюрЃЪрЃўрЃюрЃћрЃарЃў', 'рЃљрЃарЃЦрЃўрЃбрЃћрЃЦрЃбрЃЮрЃарЃў', 'рЃЏрЃћрЃюрЃћрЃ»рЃћрЃарЃў', 'рЃЉрЃБрЃдрЃљрЃџрЃбрЃћрЃарЃў'],
      challenges: ['рЃАрЃўрЃ«рЃўрЃАрЃбрЃћ', 'рЃфрЃЋрЃџрЃўрЃџрЃћрЃЉрЃћрЃЉрЃўрЃА рЃгрЃўрЃюрЃљрЃљрЃдрЃЏрЃЊрЃћрЃњрЃЮрЃЉрЃљ'],
      strengths: ['рЃЮрЃарЃњрЃљрЃюрЃўрЃќрЃљрЃфрЃўрЃљ', 'рЃАрЃљрЃўрЃЏрЃћрЃЊрЃЮрЃЮрЃЉрЃљ', 'рЃњрЃљрЃЏрЃФрЃџрЃћрЃЮрЃЉрЃљ']
    },
    {
      number: 5,
      title: 'рЃЌрЃљрЃЋрЃњрЃљрЃЊрЃљрЃАрЃљрЃЋрЃљрЃџрЃў рЃЊрЃљ рЃЌрЃљрЃЋрЃўрЃАрЃБрЃцрЃџрЃћрЃЉрЃўрЃА рЃЏрЃЮрЃДрЃЋрЃљрЃарЃБрЃџрЃў',
      description: 'рЃ«рЃБрЃЌрЃўрЃљрЃюрЃў рЃћрЃюрЃћрЃарЃњрЃўрЃљ рЃњрЃљрЃЏрЃЮрЃ«рЃљрЃбрЃљрЃЋрЃА рЃЌрЃљрЃЋрЃўрЃАрЃБрЃцрЃџрЃћрЃЉрЃљрЃА, рЃфрЃЋрЃџрЃўрЃџрЃћрЃЉрЃћрЃЉрЃАрЃљ рЃЊрЃљ рЃљрЃЋрЃљрЃюрЃбрЃБрЃарЃўрЃќрЃЏрЃА. рЃЌрЃЦрЃЋрЃћрЃю рЃЏрЃЮрЃФрЃарЃљрЃЋрЃў рЃЊрЃљ рЃљрЃЊрЃљрЃърЃбрЃўрЃарЃћрЃЉрЃљрЃЊрЃў рЃ«рЃљрЃарЃЌ.',
      traits: ['рЃљрЃЋрЃљрЃюрЃбрЃБрЃарЃўрЃАрЃбрЃў', 'рЃЌрЃљрЃЋрЃўрЃАрЃБрЃцрЃљрЃџрЃў', 'рЃЏрЃЮрЃЦрЃюрЃўрЃџрЃў', 'рЃфрЃюрЃЮрЃЉрЃўрЃАрЃЏрЃЮрЃДрЃЋрЃљрЃарЃћ'],
      careers: ['рЃЏрЃЮрЃњрЃќрЃљрЃБрЃарЃў', 'рЃЪрЃБрЃарЃюрЃљрЃџрЃўрЃАрЃбрЃў', 'рЃњрЃљрЃДрЃўрЃЊрЃЋрЃћрЃЉрЃў', 'рЃЏрЃљрЃарЃЎрЃћрЃбрЃўрЃюрЃњрЃў'],
      challenges: ['рЃљрЃарЃљрЃАрЃбрЃљрЃЉрЃўрЃџрЃБрЃарЃЮрЃЉрЃљ', 'рЃўрЃЏрЃърЃБрЃџрЃАрЃБрЃарЃЮрЃЉрЃљ'],
      strengths: ['рЃљрЃЊрЃљрЃърЃбрЃљрЃфрЃўрЃљ', 'рЃЌрЃљрЃЋрЃўрЃАрЃБрЃцрЃџрЃћрЃЉрЃљ', 'рЃЏрЃарЃљрЃЋрЃљрЃџрЃцрЃћрЃарЃЮрЃЋрЃюрЃћрЃЉрЃљ']
    },
    {
      number: 6,
      title: 'рЃЏрЃќрЃарЃБрЃюрЃЋрЃћрЃџрЃў рЃЊрЃљ рЃ░рЃљрЃарЃЏрЃЮрЃюрЃўрЃќрЃљрЃбрЃЮрЃарЃў',
      description: 'рЃћрЃЦрЃЋрЃАрЃўрЃљрЃюрЃў рЃћрЃюрЃћрЃарЃњрЃўрЃљ рЃцрЃЮрЃЎрЃБрЃАрЃўрЃарЃћрЃЉрЃБрЃџрЃўрЃљ рЃАрЃўрЃДрЃЋрЃљрЃарЃБрЃџрЃќрЃћ, рЃърЃљрЃАрЃБрЃ«рЃўрЃАрЃЏрЃњрЃћрЃЉрЃџрЃЮрЃЉрЃљрЃАрЃљ рЃЊрЃљ рЃЮрЃ»рЃљрЃ«рЃќрЃћ. рЃЌрЃЦрЃЋрЃћрЃю рЃЉрЃБрЃюрЃћрЃЉрЃарЃўрЃЋрЃў рЃЏрЃќрЃарЃБрЃюрЃЋрЃћрЃџрЃў рЃ«рЃљрЃарЃЌ.',
      traits: ['рЃЏрЃќрЃарЃБрЃюрЃЋрЃћрЃџрЃў', 'рЃърЃљрЃАрЃБрЃ«рЃўрЃАрЃЏрЃњрЃћрЃЉрЃћрЃџрЃў', 'рЃАрЃўрЃДрЃЋрЃљрЃарЃБрЃџрЃўрЃЌ рЃљрЃдрЃАрЃљрЃЋрЃАрЃћ', 'рЃ░рЃљрЃарЃЏрЃЮрЃюрЃўрЃБрЃџрЃў'],
      careers: ['рЃЏрЃљрЃАрЃгрЃљрЃЋрЃџрЃћрЃЉрЃћрЃџрЃў', 'рЃћрЃЦрЃўрЃЏрЃў', 'рЃЎрЃЮрЃюрЃАрЃБрЃџрЃбрЃљрЃюрЃбрЃў', 'рЃЊрЃўрЃќрЃљрЃўрЃюрЃћрЃарЃў'],
      challenges: ['рЃњрЃљрЃЊрЃљрЃГрЃљрЃарЃЉрЃћрЃЉрЃБрЃџрЃў рЃЏрЃќрЃарЃБрЃюрЃЋрЃћрЃџрЃЮрЃЉрЃљ', 'рЃЌрЃЋрЃўрЃЌрЃЊрЃљрЃЋрЃўрЃгрЃДрЃћрЃЉрЃљ'],
      strengths: ['рЃЌрЃљрЃюрЃљрЃњрЃарЃФрЃюрЃЮрЃЉрЃљ', 'рЃърЃљрЃАрЃБрЃ«рЃўрЃАрЃЏрЃњрЃћрЃЉрЃџрЃЮрЃЉрЃљ', 'рЃ░рЃљрЃарЃЏрЃЮрЃюрЃўрЃљ']
    },
    {
      number: 7,
      title: 'рЃцрЃўрЃџрЃЮрЃАрЃЮрЃцрЃЮрЃАрЃў рЃЊрЃљ рЃЏрЃљрЃФрЃўрЃћрЃЉрЃћрЃџрЃў',
      description: 'рЃерЃЋрЃўрЃЊрЃўрЃљрЃюрЃў рЃћрЃюрЃћрЃарЃњрЃўрЃљ рЃњрЃљрЃЏрЃЮрЃ«рЃљрЃбрЃљрЃЋрЃА рЃАрЃўрЃЉрЃарЃФрЃюрЃћрЃА, рЃљрЃюрЃљрЃџрЃўрЃќрЃАрЃљ рЃЊрЃљ рЃАрЃБрЃџрЃўрЃћрЃарЃћрЃЉрЃљрЃА. рЃЌрЃЦрЃЋрЃћрЃю рЃЉрЃБрЃюрЃћрЃЉрЃарЃўрЃЋрЃў рЃЏрЃљрЃФрЃўрЃћрЃЉрЃћрЃџрЃў рЃ«рЃљрЃарЃЌ.',
      traits: ['рЃљрЃюрЃљрЃџрЃўрЃбрЃўрЃЎрЃБрЃарЃў', 'рЃўрЃюрЃбрЃарЃЮрЃАрЃърЃћрЃЦрЃбрЃўрЃБрЃџрЃў', 'рЃАрЃБрЃџрЃўрЃћрЃарЃў', 'рЃЉрЃарЃФрЃћрЃюрЃў'],
      careers: ['рЃЏрЃћрЃфрЃюрЃўрЃћрЃарЃў', 'рЃЏрЃЎрЃЋрЃџрЃћрЃЋрЃљрЃарЃў', 'рЃцрЃўрЃџрЃЮрЃАрЃЮрЃцрЃЮрЃАрЃў', 'рЃАрЃБрЃџрЃўрЃћрЃарЃў рЃЏрЃљрЃАрЃгрЃљрЃЋрЃџрЃћрЃЉрЃћрЃџрЃў'],
      challenges: ['рЃўрЃќрЃЮрЃџрЃљрЃфрЃўрЃљ', 'рЃњрЃљрЃЊрЃљрЃГрЃљрЃарЃЉрЃћрЃЉрЃБрЃџрЃў рЃљрЃюрЃљрЃџрЃўрЃќрЃў'],
      strengths: ['рЃАрЃўрЃЉрЃарЃФрЃюрЃћ', 'рЃўрЃюрЃбрЃБрЃўрЃфрЃўрЃљ', 'рЃАрЃўрЃдрЃарЃЏрЃћ']
    },
    {
      number: 8,
      title: 'рЃ«рЃћрЃџрЃЏрЃФрЃдрЃЋрЃљрЃюрЃћрЃџрЃў рЃЊрЃљ рЃЏрЃўрЃдрЃгрЃћрЃЋрЃљрЃЌрЃљ рЃЏрЃЦрЃЮрЃюрЃћ',
      description: 'рЃарЃЋрЃўрЃљрЃюрЃў рЃћрЃюрЃћрЃарЃњрЃўрЃљ рЃљрЃАрЃљрЃ«рЃљрЃЋрЃА рЃФрЃљрЃџрЃљрЃБрЃцрЃџрЃћрЃЉрЃљрЃА, рЃгрЃљрЃарЃЏрЃљрЃбрЃћрЃЉрЃљрЃАрЃљ рЃЊрЃљ рЃЏрЃљрЃбрЃћрЃарЃўрЃљрЃџрЃБрЃа рЃЏрЃўрЃдрЃгрЃћрЃЋрЃћрЃЉрЃА. рЃЌрЃЦрЃЋрЃћрЃю рЃЉрЃБрЃюрЃћрЃЉрЃарЃўрЃЋрЃў рЃ«рЃћрЃџрЃЏрЃФрЃдрЃЋрЃљрЃюрЃћрЃџрЃў рЃ«рЃљрЃарЃЌ.',
      traits: ['рЃљрЃЏрЃЉрЃўрЃфрЃўрЃБрЃарЃў', 'рЃФрЃџрЃўрЃћрЃарЃў', 'рЃърЃарЃљрЃЦрЃбрЃўрЃЎрЃБрЃџрЃў', 'рЃгрЃљрЃарЃЏрЃљрЃбрЃћрЃЉрЃБрЃџрЃў'],
      careers: ['рЃЉрЃўрЃќрЃюрЃћрЃАрЃЏрЃћрЃюрЃў', 'рЃцрЃўрЃюрЃљрЃюрЃАрЃўрЃАрЃбрЃў', 'рЃљрЃдрЃЏрЃљрЃАрЃарЃБрЃџрЃћрЃЉрЃћрЃџрЃў рЃЊрЃўрЃарЃћрЃЦрЃбрЃЮрЃарЃў', 'рЃЏрЃћрЃгрЃљрЃарЃЏрЃћ'],
      challenges: ['рЃЏрЃљрЃбрЃћрЃарЃўрЃљрЃџрЃўрЃќрЃЏрЃў', 'рЃФрЃљрЃџрЃљрЃБрЃцрЃџрЃћрЃЉрЃўрЃА рЃЉрЃЮрЃарЃЮрЃбрЃљрЃЊ рЃњрЃљрЃЏрЃЮрЃДрЃћрЃюрЃћрЃЉрЃљ'],
      strengths: ['рЃџрЃўрЃЊрЃћрЃарЃЮрЃЉрЃљ', 'рЃЏрЃћрЃюрЃћрЃ»рЃЏрЃћрЃюрЃбрЃў', 'рЃгрЃљрЃарЃЏрЃљрЃбрЃћрЃЉрЃљ']
    },
    {
      number: 9,
      title: 'рЃ░рЃБрЃЏрЃљрЃюрЃўрЃАрЃбрЃў рЃЊрЃљ рЃЏрЃљрЃАрЃгрЃљрЃЋрЃџрЃћрЃЉрЃћрЃџрЃў',
      description: 'рЃфрЃ«рЃарЃўрЃљрЃюрЃў рЃћрЃюрЃћрЃарЃњрЃўрЃљ рЃњрЃљрЃЏрЃЮрЃ«рЃљрЃбрЃљрЃЋрЃА рЃЌрЃљрЃюрЃљрЃњрЃарЃФрЃюрЃЮрЃЉрЃљрЃА, рЃљрЃџрЃбрЃарЃБрЃўрЃќрЃЏрЃАрЃљ рЃЊрЃљ рЃБрЃюрЃўрЃЋрЃћрЃарЃАрЃљрЃџрЃБрЃа рЃАрЃўрЃДрЃЋрЃљрЃарЃБрЃџрЃА. рЃЌрЃЦрЃЋрЃћрЃю рЃЉрЃБрЃюрЃћрЃЉрЃарЃўрЃЋрЃў рЃ░рЃБрЃЏрЃљрЃюрЃўрЃАрЃбрЃў рЃ«рЃљрЃарЃЌ.',
      traits: ['рЃЌрЃљрЃюрЃљрЃњрЃарЃФрЃюрЃЮрЃЉрЃўрЃљрЃюрЃў', 'рЃљрЃџрЃбрЃарЃБрЃўрЃАрЃбрЃў', 'рЃўрЃЊрЃћрЃљрЃџрЃўрЃАрЃбрЃБрЃарЃў', 'рЃЉрЃарЃФрЃћрЃюрЃў'],
      careers: ['рЃ░рЃБрЃЏрЃљрЃюрЃўрЃбрЃљрЃарЃБрЃџрЃў рЃЏрЃБрЃерЃљрЃЎрЃў', 'рЃЏрЃљрЃАрЃгрЃљрЃЋрЃџрЃћрЃЉрЃћрЃџрЃў', 'рЃЏрЃ«рЃљрЃбрЃЋрЃљрЃарЃў', 'рЃЎрЃЮрЃюрЃАрЃБрЃџрЃбрЃљрЃюрЃбрЃў'],
      challenges: ['рЃўрЃЊрЃћрЃљрЃџрЃўрЃќрЃЏрЃў', 'рЃЌрЃЋрЃўрЃЌрЃЊрЃљрЃЋрЃўрЃгрЃДрЃћрЃЉрЃљ'],
      strengths: ['рЃЌрЃљрЃюрЃљрЃњрЃарЃФрЃюрЃЮрЃЉрЃљ', 'рЃАрЃўрЃЉрЃарЃФрЃюрЃћ', 'рЃБрЃюрЃўрЃЋрЃћрЃарЃАрЃљрЃџрЃБрЃарЃЮрЃЉрЃљ']
    },
    {
      number: 11,
      title: 'рЃАрЃБрЃџрЃўрЃћрЃарЃў рЃЏрЃћрЃАрЃћрЃюрЃ»рЃћрЃарЃў (Master Number)',
      description: '11 рЃљрЃарЃўрЃА Master Number - рЃАрЃБрЃџрЃўрЃћрЃарЃў рЃњрЃљрЃюрЃљрЃЌрЃћрЃЉрЃљ рЃЊрЃљ рЃўрЃюрЃбрЃБрЃўрЃфрЃўрЃљ. рЃЌрЃЦрЃЋрЃћрЃю рЃАрЃ«рЃЋрЃћрЃЉрЃўрЃАрЃЌрЃЋрЃўрЃА рЃерЃЌрЃљрЃњрЃЮрЃюрЃћрЃЉрЃўрЃА рЃгрЃДрЃљрЃарЃЮ рЃ«рЃљрЃарЃЌ.',
      traits: ['рЃўрЃюрЃбрЃБрЃўрЃфрЃўрЃБрЃарЃў', 'рЃерЃЌрЃљрЃњрЃЮрЃюрЃћрЃЉрЃБрЃџрЃў', 'рЃАрЃБрЃџрЃўрЃћрЃарЃў', 'рЃўрЃЊрЃћрЃљрЃџрЃўрЃАрЃбрЃБрЃарЃў'],
      careers: ['рЃАрЃБрЃџрЃўрЃћрЃарЃў рЃЏрЃљрЃАрЃгрЃљрЃЋрЃџрЃћрЃЉрЃћрЃџрЃў', 'рЃЏрЃћрЃЊрЃўрЃБрЃЏрЃў', 'рЃЎрЃЮрЃюрЃАрЃБрЃџрЃбрЃљрЃюрЃбрЃў', 'рЃЏрЃЮрЃбрЃўрЃЋрЃљрЃбрЃЮрЃарЃў'],
      challenges: ['рЃюрЃћрЃарЃЋрЃБрЃџрЃЮрЃЉрЃљ', 'рЃњрЃљрЃЊрЃљрЃГрЃљрЃарЃЉрЃћрЃЉрЃБрЃџрЃў рЃАрЃћрЃюрЃАрЃўрЃбрЃўрЃБрЃарЃЮрЃЉрЃљ'],
      strengths: ['рЃўрЃюрЃбрЃБрЃўрЃфрЃўрЃљ', 'рЃерЃЌрЃљрЃњрЃЮрЃюрЃћрЃЉрЃљ', 'рЃАрЃБрЃџрЃўрЃћрЃарЃћрЃЉрЃљ']
    },
    {
      number: 22,
      title: 'рЃЏрЃЌрЃљрЃЋрЃљрЃарЃў рЃЏрЃерЃћрЃюрЃћрЃЉрЃћрЃџрЃў (Master Number)',
      description: '22 рЃљрЃарЃўрЃА Master Number - рЃърЃарЃљрЃЦрЃбрЃўрЃЎрЃБрЃџрЃў рЃЮрЃфрЃюрЃћрЃЉрЃћрЃЉрЃўрЃА рЃЏрЃљрЃюрЃўрЃцрЃћрЃАрЃбрЃљрЃфрЃўрЃљ. рЃЌрЃЦрЃЋрЃћрЃю рЃЊрЃўрЃЊрЃў рЃАрЃљрЃЦрЃЏрЃћрЃћрЃЉрЃўрЃА рЃњрЃљрЃюрЃЏрЃљрЃ«рЃЮрЃарЃфрЃўрЃћрЃџрЃћрЃЉрЃћрЃџрЃў рЃ«рЃљрЃарЃЌ.',
      traits: ['рЃЋрЃўрЃќрЃўрЃЮрЃюрЃћрЃарЃў', 'рЃърЃарЃљрЃЦрЃбрЃўрЃЎрЃБрЃџрЃў', 'рЃФрЃџрЃўрЃћрЃарЃў', 'рЃЮрЃарЃњрЃљрЃюрЃўрЃќрЃћрЃЉрЃБрЃџрЃў'],
      careers: ['рЃљрЃарЃЦрЃўрЃбрЃћрЃЦрЃбрЃЮрЃарЃў', 'рЃЏрЃћрЃгрЃљрЃарЃЏрЃћ', 'рЃАрЃљрЃўрЃюрЃЪрЃўрЃюрЃарЃЮ', 'рЃЊрЃўрЃЊрЃў рЃърЃарЃЮрЃћрЃЦрЃбрЃћрЃЉрЃўрЃА рЃЏрЃћрЃюрЃћрЃ»рЃћрЃарЃў'],
      challenges: ['рЃњрЃљрЃЊрЃљрЃГрЃљрЃарЃЉрЃћрЃЉрЃБрЃџрЃў рЃљрЃЏрЃЉрЃўрЃфрЃўрЃБрЃарЃЮрЃЉрЃљ', 'рЃЊрЃљрЃФрЃљрЃЉрЃБрЃџрЃЮрЃЉрЃљ'],
      strengths: ['рЃЏрЃљрЃюрЃўрЃцрЃћрЃАрЃбрЃљрЃфрЃўрЃљ', 'рЃџрЃўрЃЊрЃћрЃарЃЮрЃЉрЃљ', 'рЃърЃарЃљрЃЦрЃбрЃўрЃЎрЃБрЃџрЃЮрЃЉрЃљ']
    },
    {
      number: 33,
      title: 'рЃЏрЃЌрЃљрЃЋрЃљрЃарЃў рЃЏрЃљрЃАрЃгрЃљрЃЋрЃџрЃћрЃЉрЃћрЃџрЃў (Master Number)',
      description: '33 рЃљрЃарЃўрЃА Master Number - рЃБрЃЏрЃљрЃдрЃџрЃћрЃАрЃў рЃАрЃўрЃДрЃЋрЃљрЃарЃБрЃџрЃў рЃЊрЃљ рЃЌрЃљрЃюрЃљрЃњрЃарЃФрЃюрЃЮрЃЉрЃљ. рЃЌрЃЦрЃЋрЃћрЃю рЃАрЃ«рЃЋрЃћрЃЉрЃўрЃА рЃЏрЃќрЃарЃБрЃюрЃЋрЃћрЃџрЃў рЃЊрЃљ рЃЏрЃљрЃАрЃгрЃљрЃЋрЃџрЃћрЃЉрЃћрЃџрЃў рЃ«рЃљрЃарЃЌ.',
      traits: ['рЃЏрЃќрЃарЃБрЃюрЃЋрЃћрЃџрЃў', 'рЃЌрЃљрЃюрЃљрЃњрЃарЃФрЃюрЃЮрЃЉрЃўрЃљрЃюрЃў', 'рЃЏрЃљрЃАрЃгрЃљрЃЋрЃџрЃћрЃЉрЃћрЃџрЃў', 'рЃњрЃљрЃюрЃЏрЃЎрЃБрЃарЃюрЃЋрЃћрЃџрЃў'],
      careers: ['рЃЏрЃљрЃАрЃгрЃљрЃЋрЃџрЃћрЃЉрЃћрЃџрЃў', 'рЃћрЃЦрЃўрЃЏрЃў', 'рЃЌрЃћрЃарЃљрЃърЃћрЃЋрЃбрЃў', 'рЃ░рЃБрЃЏрЃљрЃюрЃўрЃбрЃљрЃарЃБрЃџрЃў рЃЏрЃБрЃерЃљрЃЎрЃў'],
      challenges: ['рЃЌрЃЋрЃўрЃЌрЃЊрЃљрЃЋрЃўрЃгрЃДрЃћрЃЉрЃљ', 'рЃћрЃЏрЃЮрЃфрЃўрЃБрЃарЃў рЃЊрЃљрЃбрЃЋрЃўрЃарЃЌрЃЋрЃљ'],
      strengths: ['рЃАрЃўрЃДрЃЋрЃљрЃарЃБрЃџрЃў', 'рЃЏрЃќрЃарЃБрЃюрЃЋрЃћрЃџрЃЮрЃЉрЃљ', 'рЃњрЃљрЃюрЃЎрЃБрЃарЃюрЃћрЃЉрЃљ']
    }
  ];

  ngOnInit() {
    this.generateStars();
  }

  generateStars() {
    const count = 150 + Math.floor(Math.random() * 50);

    for (let i = 0; i < count; i++) {
        let type: 'twinkle' | 'moving' | 'static';
        const rand = Math.random();
        if (rand < 0.4) {
            type = 'static';
        } else if (rand < 0.8) {
            type = 'twinkle';
        } else {
            type = 'moving';
        }

        this.stars.push({
            left: Math.random() * 100,
            top: Math.random() * 100,
            delay: Math.random() * 8,
            size: 0.5 + Math.random() * 2.5,
            duration: type === 'moving' ? 20 + Math.random() * 30 : 2 + Math.random() * 4,
            type: type,
            brightness: 0.3 + Math.random() * 0.7
        });
    }
  }

  calculate() {
    if (!this.day || !this.month || !this.year) {
      return;
    }

    this.calculationSteps = [];
    this.showResult = false;

    // рЃюрЃљрЃЉрЃўрЃ»рЃў 1: рЃЊрЃдрЃўрЃА рЃерЃћрЃЏрЃфрЃўрЃарЃћрЃЉрЃљ
    const daySum = this.reduceToSingleDigit(this.day, 'рЃЊрЃдрЃћ');

    // рЃюрЃљрЃЉрЃўрЃ»рЃў 2: рЃЌрЃЋрЃўрЃА рЃерЃћрЃЏрЃфрЃўрЃарЃћрЃЉрЃљ
    const monthSum = this.reduceToSingleDigit(this.month, 'рЃЌрЃЋрЃћ');

    // рЃюрЃљрЃЉрЃўрЃ»рЃў 3: рЃгрЃџрЃўрЃА рЃерЃћрЃЏрЃфрЃўрЃарЃћрЃЉрЃљ
    const yearSum = this.reduceToSingleDigit(this.year, 'рЃгрЃћрЃџрЃў');

    // рЃюрЃљрЃЉрЃўрЃ»рЃў 4: рЃАрЃљрЃЉрЃЮрЃџрЃЮрЃЮ рЃ»рЃљрЃЏрЃў
    let total = daySum + monthSum + yearSum;
    this.calculationSteps.push(`\n­ЪЊі рЃАрЃљрЃЉрЃЮрЃџрЃЮрЃЮ рЃ»рЃљрЃЏрЃў: ${daySum} + ${monthSum} + ${yearSum} = ${total}`);

    // рЃерЃћрЃЏрЃфрЃўрЃарЃћрЃЉрЃљ рЃћрЃарЃЌ рЃфрЃўрЃцрЃарЃљрЃЏрЃЊрЃћ (Master Numbers-рЃўрЃА рЃњрЃљрЃЌрЃЋрЃљрЃџрЃўрЃАрЃгрЃўрЃюрЃћрЃЉрЃўрЃЌ)
    while (total > 9 && total !== 11 && total !== 22 && total !== 33) {
      const digits = this.getDigits(total);
      const sum = digits.reduce((a, b) => a + b, 0);
      this.calculationSteps.push(`   ${total} Рєњ ${digits.join(' + ')} = ${sum}`);
      total = sum;
    }

    this.lifePathNumber = total;

    if (total === 11 || total === 22 || total === 33) {
      this.calculationSteps.push(`\nРюе Master Number: ${total} (рЃљрЃа рЃЏрЃфрЃўрЃарЃЊрЃћрЃЉрЃљ!)`);
    } else {
      this.calculationSteps.push(`\nРюЁ рЃфрЃ«рЃЮрЃЋрЃарЃћрЃЉрЃўрЃА рЃњрЃќрЃўрЃА рЃарЃўрЃфрЃ«рЃЋрЃў: ${total}`);
    }

    this.showResult = true;
  }

  private reduceToSingleDigit(num: number, label: string): number {
    this.calculationSteps.push(`\n­Ъћб ${label}: ${num}`);

    while (num > 9 && num !== 11 && num !== 22 && num !== 33) {
      const digits = this.getDigits(num);
      const sum = digits.reduce((a, b) => a + b, 0);
      this.calculationSteps.push(`   ${num} Рєњ ${digits.join(' + ')} = ${sum}`);
      num = sum;
    }

    return num;
  }

  private getDigits(num: number): number[] {
    return num.toString().split('').map(d => parseInt(d));
  }

  getMeaning(): LifePathMeaning | null {
    if (!this.lifePathNumber) return null;
    return this.lifePathMeanings.find(m => m.number === this.lifePathNumber) || null;
  }

  reset() {
    this.day = null;
    this.month = null;
    this.year = null;
    this.lifePathNumber = null;
    this.calculationSteps = [];
    this.showResult = false;
  }
}
