import { Component } from '@angular/core';
import { CommonModule } from '@angular/common';
import { FormsModule } from '@angular/forms';

interface ZodiacSign {
    id: string;
    name: string;
    icon: string;
    element: string;
}

interface CompatibilityResult {
    percentage: number;
    rating: string;
    title: string;
    description: string;
    strengths: string[];
    challenges: string[];
    advice: string;
}

interface FallingEmoji {
    id: number;
    emoji: string;
    left: number;
    delay: number;
    duration: number;
    size: number;
}

@Component({
    selector: 'app-compatibility',
    imports: [CommonModule, FormsModule],
    templateUrl: './compatibility.component.html',
    styleUrls: ['./compatibility.component.scss']
})
export class CompatibilityComponent {
    selectedSign1: string = '';
    selectedSign2: string = '';
    showResult = false;
    compatibilityResult: CompatibilityResult | null = null;
    animatedPercentage: number = 0;
    fallingEmojis: FallingEmoji[] = [];

    zodiacSigns: ZodiacSign[] = [
        { id: 'aries', name: 'áƒ•áƒ”áƒ áƒ«áƒ˜', icon: 'â™ˆ', element: 'fire' },
        { id: 'taurus', name: 'áƒ™áƒ£áƒ áƒ', icon: 'â™‰', element: 'earth' },
        { id: 'gemini', name: 'áƒ¢áƒ§áƒ£áƒáƒ”áƒ‘áƒ˜', icon: 'â™Š', element: 'air' },
        { id: 'cancer', name: 'áƒ™áƒ˜áƒ áƒ©áƒ®áƒ˜áƒ‘áƒ˜', icon: 'â™‹', element: 'water' },
        { id: 'leo', name: 'áƒšáƒáƒ›áƒ˜', icon: 'â™Œ', element: 'fire' },
        { id: 'virgo', name: 'áƒ¥áƒáƒšáƒ¬áƒ£áƒšáƒ˜', icon: 'â™', element: 'earth' },
        { id: 'libra', name: 'áƒ¡áƒáƒ¡áƒ¬áƒáƒ áƒ˜', icon: 'â™', element: 'air' },
        { id: 'scorpio', name: 'áƒ›áƒáƒ áƒ˜áƒ”áƒšáƒ˜', icon: 'â™', element: 'water' },
        { id: 'sagittarius', name: 'áƒ›áƒ¨áƒ•áƒ˜áƒšáƒ“áƒáƒ¡áƒáƒœáƒ˜', icon: 'â™', element: 'fire' },
        { id: 'capricorn', name: 'áƒ—áƒ®áƒ˜áƒ¡ áƒ áƒ¥áƒ', icon: 'â™‘', element: 'earth' },
        { id: 'aquarius', name: 'áƒ›áƒ”áƒ áƒ¬áƒ§áƒ£áƒšáƒ˜', icon: 'â™’', element: 'air' },
        { id: 'pisces', name: 'áƒ—áƒ”áƒ•áƒ–áƒ”áƒ‘áƒ˜', icon: 'â™“', element: 'water' }
    ];

    // áƒ—áƒáƒ•áƒ¡áƒ”áƒ‘áƒáƒ“áƒáƒ‘áƒ˜áƒ¡ áƒ›áƒáƒœáƒáƒªáƒ”áƒ›áƒ”áƒ‘áƒ˜
    compatibilityData: { [key: string]: CompatibilityResult } = {
        'sagittarius-aquarius': {
            percentage: 85,
            rating: 'áƒ¨áƒ”áƒ¡áƒáƒœáƒ˜áƒ¨áƒœáƒáƒ•áƒ˜',
            title: 'áƒ—áƒáƒ•áƒ˜áƒ¡áƒ£áƒ¤áƒšáƒ”áƒ‘áƒ˜áƒ¡ áƒ›áƒáƒ§áƒ•áƒáƒ áƒ£áƒšáƒ˜ áƒ¡áƒ£áƒšáƒ”áƒ‘áƒ˜',
            description: 'áƒ›áƒ¨áƒ•áƒ˜áƒšáƒ“áƒáƒ¡áƒáƒœáƒ˜ áƒ“áƒ áƒ›áƒ”áƒ áƒ¬áƒ§áƒ£áƒšáƒ˜ áƒáƒ áƒ˜áƒ•áƒ” áƒáƒ¤áƒáƒ¡áƒ”áƒ‘áƒ”áƒœ áƒ—áƒáƒ•áƒ˜áƒ¡áƒ£áƒ¤áƒšáƒ”áƒ‘áƒáƒ¡, áƒ˜áƒœáƒ¢áƒ”áƒšáƒ”áƒ¥áƒ¢áƒ£áƒáƒšáƒ£áƒ  áƒ¡áƒ¢áƒ˜áƒ›áƒ£áƒšáƒáƒªáƒ˜áƒáƒ¡ áƒ“áƒ áƒáƒ•áƒáƒœáƒ¢áƒ£áƒ áƒ”áƒ‘áƒ¡. áƒ˜áƒ¡áƒ˜áƒœáƒ˜ áƒ¥áƒ›áƒœáƒ˜áƒáƒœ áƒ”áƒœáƒ”áƒ áƒ’áƒ˜áƒ£áƒš áƒ“áƒ áƒ“áƒ˜áƒœáƒáƒ›áƒ˜áƒ£áƒ  áƒ¬áƒ§áƒ•áƒ˜áƒšáƒ¡.',
            strengths: [
                'áƒ˜áƒœáƒ¢áƒ”áƒšáƒ”áƒ¥áƒ¢áƒ£áƒáƒšáƒ£áƒ áƒ˜ áƒ—áƒáƒ•áƒ¡áƒ”áƒ‘áƒáƒ“áƒáƒ‘áƒ',
                'áƒáƒ áƒ˜áƒ•áƒ” áƒáƒ¤áƒáƒ¡áƒ”áƒ‘áƒ¡ áƒ“áƒáƒ›áƒáƒ£áƒ™áƒ˜áƒ“áƒ”áƒ‘áƒšáƒáƒ‘áƒáƒ¡',
                'áƒ¡áƒáƒ”áƒ áƒ—áƒ áƒ˜áƒœáƒ¢áƒ”áƒ áƒ”áƒ¡áƒ”áƒ‘áƒ˜ áƒ“áƒ áƒ°áƒáƒ‘áƒ˜',
                'áƒ¦áƒ˜áƒ áƒ™áƒáƒ›áƒ£áƒœáƒ˜áƒ™áƒáƒªáƒ˜áƒ',
                'áƒáƒ•áƒáƒœáƒ¢áƒ£áƒ áƒ˜áƒ¡áƒ¢áƒ£áƒšáƒ˜ áƒ¡áƒ£áƒšáƒ˜áƒ¡áƒ™áƒ•áƒ”áƒ—áƒ”áƒ‘áƒ'
            ],
            challenges: [
                'áƒáƒ áƒ˜áƒ•áƒ”áƒ¡ áƒ¨áƒ”áƒ˜áƒ«áƒšáƒ”áƒ‘áƒ áƒ£áƒ­áƒ˜áƒ áƒ“áƒ”áƒ¡ áƒ”áƒ›áƒáƒªáƒ˜áƒ£áƒ áƒ˜ áƒ˜áƒœáƒ¢áƒ˜áƒ›áƒ£áƒ áƒáƒ‘áƒ',
                'áƒ›áƒ¨áƒ•áƒ˜áƒšáƒ“áƒáƒ¡áƒœáƒ˜áƒ¡ áƒ’áƒ£áƒšáƒ¬áƒ áƒ¤áƒ”áƒšáƒáƒ‘áƒ áƒ¨áƒ”áƒ˜áƒ«áƒšáƒ”áƒ‘áƒ áƒáƒ¬áƒ£áƒ®áƒ”áƒ‘áƒ“áƒ”áƒ¡ áƒ›áƒ”áƒ áƒ¬áƒ§áƒ£áƒšáƒ¡',
                'áƒ›áƒ”áƒ áƒ¬áƒ§áƒ£áƒšáƒ˜áƒ¡ áƒ’áƒáƒ£áƒ—áƒ•áƒáƒšáƒ˜áƒ¡áƒ¬áƒ˜áƒœáƒ”áƒ‘áƒšáƒáƒ‘áƒ',
                'áƒ•áƒáƒšáƒ“áƒ”áƒ‘áƒ£áƒšáƒ”áƒ‘áƒ”áƒ‘áƒ˜áƒ¡ áƒ—áƒáƒ•áƒ˜áƒ“áƒáƒœ áƒáƒªáƒ˜áƒšáƒ”áƒ‘áƒ'
            ],
            advice: 'áƒ˜áƒ¡áƒ¬áƒáƒ•áƒšáƒ”áƒ— áƒ£áƒ áƒ—áƒ˜áƒ”áƒ áƒ—áƒáƒ‘áƒáƒ¨áƒ˜ áƒ”áƒ›áƒáƒªáƒ˜áƒ£áƒ áƒ˜ áƒ¡áƒ˜áƒ¦áƒ áƒ›áƒ˜áƒ¡ áƒ¨áƒ”áƒ¥áƒ›áƒœáƒ. áƒ›áƒ˜áƒ£áƒ®áƒ”áƒ“áƒáƒ•áƒáƒ“ áƒ—áƒáƒ•áƒ˜áƒ¡áƒ£áƒ¤áƒšáƒ”áƒ‘áƒ˜áƒ¡ áƒ¡áƒ˜áƒ§áƒ•áƒáƒ áƒ£áƒšáƒ˜áƒ¡áƒ, áƒ›áƒœáƒ˜áƒ¨áƒ•áƒœáƒ”áƒšáƒáƒ•áƒáƒœáƒ˜áƒ áƒáƒáƒ áƒ¢áƒœáƒ˜áƒáƒ áƒ—áƒáƒœ áƒ”áƒ›áƒáƒªáƒ˜áƒ£áƒ áƒ˜ áƒ™áƒáƒ•áƒ¨áƒ˜áƒ áƒ˜áƒ¡ áƒ’áƒáƒœáƒ•áƒ˜áƒ—áƒáƒ áƒ”áƒ‘áƒ.'
        },
        'aries-leo': {
            percentage: 90,
            rating: 'áƒ¨áƒ”áƒ¡áƒáƒœáƒ˜áƒ¨áƒœáƒáƒ•áƒ˜',
            title: 'áƒªáƒ”áƒªáƒ®áƒšáƒáƒ•áƒáƒœáƒ˜ áƒáƒáƒ¡áƒ˜áƒáƒœáƒ˜',
            description: 'áƒ•áƒ”áƒ áƒ«áƒ˜ áƒ“áƒ áƒšáƒáƒ›áƒ˜ áƒáƒ áƒ˜áƒ•áƒ” áƒªáƒ”áƒªáƒ®áƒšáƒ˜áƒ¡ áƒœáƒ˜áƒ¨áƒœáƒ”áƒ‘áƒ˜ áƒáƒ áƒ˜áƒáƒœ, áƒ áƒáƒª áƒ¥áƒ›áƒœáƒ˜áƒ¡ áƒ«áƒáƒšáƒ˜áƒáƒœ áƒáƒáƒ¡áƒ˜áƒáƒœáƒ£áƒ  áƒ“áƒ áƒ”áƒœáƒ”áƒ áƒ’áƒ˜áƒ£áƒš áƒ£áƒ áƒ—áƒ˜áƒ”áƒ áƒ—áƒáƒ‘áƒáƒ¡. áƒ˜áƒ¡áƒ˜áƒœáƒ˜ áƒ”áƒ áƒ—áƒ›áƒáƒœáƒ”áƒ—áƒ¡ áƒáƒ¦áƒ¤áƒ áƒ—áƒáƒ•áƒáƒœáƒ”áƒ‘áƒ”áƒœ.',
            strengths: [
                'áƒ«áƒšáƒ˜áƒ”áƒ áƒ˜ áƒ¤áƒ˜áƒ–áƒ˜áƒ™áƒ£áƒ áƒ˜ áƒ›áƒ˜áƒ–áƒ˜áƒ“áƒ£áƒšáƒáƒ‘áƒ',
                'áƒ›áƒáƒ¦áƒáƒšáƒ˜ áƒ”áƒœáƒ”áƒ áƒ’áƒ˜áƒ',
                'áƒ£áƒ áƒ—áƒ˜áƒ”áƒ áƒ—áƒáƒáƒ¢áƒ˜áƒ•áƒ˜áƒ¡áƒªáƒ”áƒ›áƒ',
                'áƒ—áƒáƒ•áƒ’áƒáƒ“áƒáƒ¡áƒáƒ•áƒáƒšáƒ˜ áƒ¡áƒ£áƒšáƒ˜áƒ¡áƒ™áƒ•áƒ”áƒ—áƒ”áƒ‘áƒ',
                'áƒ”áƒ áƒ—áƒ’áƒ£áƒšáƒ”áƒ‘áƒ'
            ],
            challenges: [
                'áƒ”áƒ’áƒáƒ—áƒ áƒ¨áƒ”áƒ¯áƒáƒ®áƒ”áƒ‘áƒ',
                'áƒáƒ áƒ˜áƒ•áƒ” áƒ¡áƒ£áƒ áƒ¡ áƒšáƒ˜áƒ“áƒ”áƒ áƒáƒ‘áƒ',
                'áƒ˜áƒ›áƒáƒ£áƒšáƒ¡áƒ£áƒ áƒ˜ áƒ’áƒáƒ“áƒáƒ¬áƒ§áƒ•áƒ”áƒ¢áƒ˜áƒšáƒ”áƒ‘áƒ”áƒ‘áƒ˜',
                'áƒ¥áƒ”áƒ“áƒ›áƒáƒ¦áƒšáƒáƒ‘áƒ'
            ],
            advice: 'áƒ˜áƒ¡áƒ¬áƒáƒ•áƒšáƒ”áƒ— áƒ—áƒ¥áƒ•áƒ”áƒœáƒ˜ áƒ”áƒ’áƒáƒ”áƒ‘áƒ˜áƒ¡ áƒ™áƒáƒœáƒ¢áƒ áƒáƒšáƒ˜ áƒ“áƒ áƒáƒáƒ áƒ¢áƒœáƒ˜áƒáƒ áƒ˜áƒ¡ áƒáƒ¦áƒ˜áƒáƒ áƒ”áƒ‘áƒ. áƒáƒ áƒ˜áƒ•áƒ”áƒ› áƒ£áƒœáƒ“áƒ áƒ˜áƒáƒáƒ•áƒáƒ— áƒ‘áƒáƒšáƒáƒœáƒ¡áƒ˜ áƒšáƒ˜áƒ“áƒ”áƒ áƒáƒ‘áƒáƒ¡áƒ áƒ“áƒ áƒ›áƒ®áƒáƒ áƒ“áƒáƒ­áƒ”áƒ áƒáƒ¡ áƒ¨áƒáƒ áƒ˜áƒ¡.'
        },
        'taurus-virgo': {
            percentage: 88,
            rating: 'áƒ¨áƒ”áƒ¡áƒáƒœáƒ˜áƒ¨áƒœáƒáƒ•áƒ˜',
            title: 'áƒ›áƒ˜áƒ¬áƒ˜áƒ”áƒ áƒ˜ áƒ¡áƒ¢áƒáƒ‘áƒ˜áƒšáƒ£áƒ áƒáƒ‘áƒ',
            description: 'áƒ™áƒ£áƒ áƒ áƒ“áƒ áƒ¥áƒáƒšáƒ¬áƒ£áƒšáƒ˜ áƒáƒ áƒ˜áƒ•áƒ” áƒ›áƒ˜áƒ¬áƒ˜áƒ¡ áƒœáƒ˜áƒ¨áƒœáƒ”áƒ‘áƒ˜ áƒáƒ áƒ˜áƒáƒœ áƒ“áƒ áƒáƒ¤áƒáƒ¡áƒ”áƒ‘áƒ”áƒœ áƒ¡áƒ¢áƒáƒ‘áƒ˜áƒšáƒ£áƒ áƒáƒ‘áƒáƒ¡, áƒáƒ áƒáƒ¥áƒ¢áƒ˜áƒ™áƒ£áƒšáƒáƒ‘áƒáƒ¡ áƒ“áƒ áƒ”áƒ áƒ—áƒ’áƒ£áƒšáƒ”áƒ‘áƒáƒ¡.',
            strengths: [
                'áƒ¡áƒ¢áƒáƒ‘áƒ˜áƒšáƒ£áƒ áƒ˜ áƒ“áƒ áƒ¡áƒáƒ˜áƒ›áƒ”áƒ“áƒ áƒ£áƒ áƒ—áƒ˜áƒ”áƒ áƒ—áƒáƒ‘áƒ',
                'áƒáƒ áƒáƒ¥áƒ¢áƒ˜áƒ™áƒ£áƒšáƒ˜ áƒ›áƒ˜áƒ“áƒ’áƒáƒ›áƒ',
                'áƒ›áƒ¡áƒ’áƒáƒ•áƒ¡áƒ˜ áƒ¦áƒ˜áƒ áƒ”áƒ‘áƒ£áƒšáƒ”áƒ‘áƒ”áƒ‘áƒ˜',
                'áƒ”áƒ áƒ—áƒ’áƒ£áƒšáƒ”áƒ‘áƒ áƒ“áƒ áƒ•áƒáƒšáƒ“áƒ”áƒ‘áƒ£áƒšáƒ”áƒ‘áƒ',
                'áƒ™áƒáƒ›áƒ¤áƒáƒ áƒ¢áƒ˜ áƒ”áƒ áƒ—áƒáƒ“'
            ],
            challenges: [
                'áƒ¨áƒ”áƒ˜áƒ«áƒšáƒ”áƒ‘áƒ áƒ˜áƒ§áƒáƒ¡ áƒ«áƒáƒšáƒ˜áƒáƒœ áƒ áƒ£áƒ¢áƒ˜áƒœáƒ£áƒšáƒ˜',
                'áƒáƒ áƒ˜áƒ•áƒ” áƒ¨áƒ”áƒ˜áƒ«áƒšáƒ”áƒ‘áƒ áƒ˜áƒ§áƒáƒ¡ áƒ¯áƒ˜áƒ£áƒ¢áƒ˜',
                'áƒ”áƒ›áƒáƒªáƒ˜áƒ”áƒ‘áƒ˜áƒ¡ áƒ’áƒáƒ›áƒáƒ®áƒáƒ¢áƒ•áƒ˜áƒ¡ áƒ¡áƒ˜áƒ áƒ—áƒ£áƒšáƒ”',
                'áƒªáƒ•áƒšáƒ˜áƒšáƒ”áƒ‘áƒ”áƒ‘áƒ˜áƒ¡ áƒ¬áƒ˜áƒœáƒáƒáƒ¦áƒ›áƒ“áƒ”áƒ’áƒáƒ‘áƒ'
            ],
            advice: 'áƒ¡áƒªáƒáƒ“áƒ”áƒ— áƒ¡áƒáƒáƒœáƒ¢áƒáƒœáƒ£áƒ áƒáƒ‘áƒ˜áƒ¡áƒ áƒ“áƒ áƒáƒ•áƒáƒœáƒ¢áƒ£áƒ áƒ˜áƒ¡ áƒ“áƒáƒ›áƒáƒ¢áƒ”áƒ‘áƒ áƒ£áƒ áƒ—áƒ˜áƒ”áƒ áƒ—áƒáƒ‘áƒáƒ¨áƒ˜. áƒáƒ  áƒ›áƒáƒ’áƒ”áƒ¨áƒ˜áƒœáƒáƒ“áƒ”áƒ— áƒªáƒ•áƒšáƒ˜áƒšáƒ”áƒ‘áƒ”áƒ‘áƒ˜áƒ¡áƒ áƒ“áƒ áƒáƒ®áƒáƒšáƒ˜ áƒ’áƒáƒ›áƒáƒªáƒ“áƒ˜áƒšáƒ”áƒ‘áƒ”áƒ‘áƒ˜áƒ¡áƒ.'
        },
        'cancer-pisces': {
            percentage: 92,
            rating: 'áƒ¨áƒ”áƒ¡áƒáƒœáƒ˜áƒ¨áƒœáƒáƒ•áƒ˜',
            title: 'áƒ”áƒ›áƒáƒªáƒ˜áƒ£áƒ áƒ˜ áƒ¡áƒ˜áƒ¦áƒ áƒ›áƒ”',
            description: 'áƒ™áƒ˜áƒ áƒ©áƒ®áƒ˜áƒ‘áƒ˜ áƒ“áƒ áƒ—áƒ”áƒ•áƒ–áƒ”áƒ‘áƒ˜ áƒáƒ áƒ˜áƒ•áƒ” áƒ¬áƒ§áƒšáƒ˜áƒ¡ áƒœáƒ˜áƒ¨áƒœáƒ”áƒ‘áƒ˜ áƒáƒ áƒ˜áƒáƒœ áƒ“áƒ áƒ¥áƒ›áƒœáƒ˜áƒáƒœ áƒ¦áƒ áƒ›áƒáƒ“ áƒ”áƒ›áƒáƒªáƒ˜áƒ£áƒ  áƒ“áƒ áƒ˜áƒœáƒ¢áƒ£áƒ˜áƒªáƒ˜áƒ£áƒ  áƒ™áƒáƒ•áƒ¨áƒ˜áƒ áƒ¡.',
            strengths: [
                'áƒ¦áƒ áƒ›áƒ áƒ”áƒ›áƒáƒªáƒ˜áƒ£áƒ áƒ˜ áƒ’áƒáƒ’áƒ”áƒ‘áƒ',
                'áƒ˜áƒœáƒ¢áƒ£áƒ˜áƒªáƒ˜áƒ£áƒ áƒ˜ áƒ™áƒáƒ•áƒ¨áƒ˜áƒ áƒ˜',
                'áƒ›áƒ–áƒ áƒ£áƒœáƒ•áƒ”áƒšáƒáƒ‘áƒ áƒ“áƒ áƒ—áƒáƒœáƒáƒ’áƒ áƒ«áƒœáƒáƒ‘áƒ',
                'áƒ™áƒ áƒ”áƒáƒ¢áƒ˜áƒ£áƒšáƒáƒ‘áƒ',
                'áƒ¡áƒ£áƒšáƒ˜áƒ”áƒ áƒ˜ áƒ—áƒáƒ•áƒ¡áƒ”áƒ‘áƒáƒ“áƒáƒ‘áƒ'
            ],
            challenges: [
                'áƒ’áƒáƒ“áƒáƒ­áƒáƒ áƒ‘áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ”áƒ›áƒáƒªáƒ˜áƒ£áƒ áƒáƒ‘áƒ',
                'áƒ’áƒáƒœáƒ¡áƒáƒ–áƒ¦áƒ•áƒ áƒ”áƒ‘áƒ˜áƒ¡ áƒœáƒáƒ™áƒšáƒ”áƒ‘áƒáƒ‘áƒ',
                'áƒ áƒ”áƒáƒšáƒáƒ‘áƒ˜áƒ¡áƒ’áƒáƒœ áƒ’áƒáƒ¥áƒªáƒ”áƒ•áƒ',
                'áƒ—áƒáƒœáƒáƒ™áƒ•áƒ”áƒ—áƒ-áƒ“áƒáƒ›áƒáƒ™áƒ˜áƒ“áƒ”áƒ‘áƒ£áƒšáƒ”áƒ‘áƒ'
            ],
            advice: 'áƒ˜áƒ¡áƒ¬áƒáƒ•áƒšáƒ”áƒ— áƒáƒ áƒáƒ¥áƒ¢áƒ˜áƒ™áƒ£áƒšáƒ˜ áƒ¡áƒáƒ™áƒ˜áƒ—áƒ®áƒ”áƒ‘áƒ˜áƒ¡ áƒ›áƒáƒ’áƒ•áƒáƒ áƒ”áƒ‘áƒ áƒ“áƒ áƒáƒ  áƒ“áƒáƒ˜áƒ™áƒáƒ áƒ’áƒáƒ— áƒ”áƒ›áƒáƒªáƒ˜áƒ£áƒ  áƒ¡áƒáƒ›áƒ§áƒáƒ áƒáƒ¨áƒ˜. áƒ›áƒœáƒ˜áƒ¨áƒ•áƒœáƒ”áƒšáƒáƒ•áƒáƒœáƒ˜áƒ áƒ áƒ”áƒáƒšáƒáƒ‘áƒáƒ¡áƒ—áƒáƒœ áƒ™áƒáƒ•áƒ¨áƒ˜áƒ áƒ˜áƒ¡ áƒ¨áƒ”áƒœáƒáƒ áƒ©áƒ£áƒœáƒ”áƒ‘áƒ.'
        },
        'gemini-libra': {
            percentage: 87,
            rating: 'áƒ¨áƒ”áƒ¡áƒáƒœáƒ˜áƒ¨áƒœáƒáƒ•áƒ˜',
            title: 'áƒ˜áƒœáƒ¢áƒ”áƒšáƒ”áƒ¥áƒ¢áƒ£áƒáƒšáƒ£áƒ áƒ˜ áƒ°áƒáƒ áƒ›áƒáƒœáƒ˜áƒ',
            description: 'áƒ¢áƒ§áƒ£áƒáƒ”áƒ‘áƒ˜ áƒ“áƒ áƒ¡áƒáƒ¡áƒ¬áƒáƒ áƒ˜ áƒáƒ áƒ˜áƒ•áƒ” áƒ°áƒáƒ”áƒ áƒ˜áƒ¡ áƒœáƒ˜áƒ¨áƒœáƒ”áƒ‘áƒ˜ áƒáƒ áƒ˜áƒáƒœ áƒ“áƒ áƒ£áƒ§áƒ•áƒáƒ áƒ— áƒ™áƒáƒ›áƒ£áƒœáƒ˜áƒ™áƒáƒªáƒ˜áƒ, áƒ¡áƒáƒªáƒ˜áƒáƒšáƒ£áƒ áƒ˜ áƒáƒ¥áƒ¢áƒ˜áƒ•áƒáƒ‘áƒ”áƒ‘áƒ˜ áƒ“áƒ áƒ˜áƒœáƒ¢áƒ”áƒšáƒ”áƒ¥áƒ¢áƒ£áƒáƒšáƒ£áƒ áƒ˜ áƒ¡áƒ¢áƒ˜áƒ›áƒ£áƒšáƒáƒªáƒ˜áƒ.',
            strengths: [
                'áƒ¨áƒ”áƒ¡áƒáƒœáƒ˜áƒ¨áƒœáƒáƒ•áƒ˜ áƒ™áƒáƒ›áƒ£áƒœáƒ˜áƒ™áƒáƒªáƒ˜áƒ',
                'áƒ˜áƒœáƒ¢áƒ”áƒšáƒ”áƒ¥áƒ¢áƒ£áƒáƒšáƒ£áƒ áƒ˜ áƒ—áƒáƒ•áƒ¡áƒ”áƒ‘áƒáƒ“áƒáƒ‘áƒ',
                'áƒ¡áƒáƒªáƒ˜áƒáƒšáƒ£áƒ áƒáƒ‘áƒ',
                'áƒ‘áƒáƒšáƒáƒœáƒ¡áƒ˜ áƒ“áƒ áƒ°áƒáƒ áƒ›áƒáƒœáƒ˜áƒ',
                'áƒ›áƒ¡áƒ’áƒáƒ•áƒ¡áƒ˜ áƒ˜áƒœáƒ¢áƒ”áƒ áƒ”áƒ¡áƒ”áƒ‘áƒ˜'
            ],
            challenges: [
                'áƒ’áƒáƒ“áƒáƒ¬áƒ§áƒ•áƒ”áƒ¢áƒ˜áƒšáƒ”áƒ‘áƒ˜áƒ¡ áƒ›áƒ˜áƒ¦áƒ”áƒ‘áƒ˜áƒ¡ áƒ¡áƒ˜áƒ áƒ—áƒ£áƒšáƒ”',
                'áƒ”áƒ›áƒáƒªáƒ˜áƒ£áƒ áƒ˜ áƒ¡áƒ˜áƒ¦áƒ áƒ›áƒ˜áƒ¡ áƒœáƒáƒ™áƒšáƒ”áƒ‘áƒáƒ‘áƒ',
                'áƒ–áƒ”áƒ“áƒ›áƒ”áƒ¢áƒ˜ áƒ¡áƒáƒªáƒ˜áƒáƒšáƒ˜áƒ–áƒáƒªáƒ˜áƒ',
                'áƒáƒ áƒáƒ¡áƒ¢áƒáƒ‘áƒ˜áƒšáƒ£áƒ áƒáƒ‘áƒ'
            ],
            advice: 'áƒ˜áƒ¡áƒ¬áƒáƒ•áƒšáƒ”áƒ— áƒ£áƒ áƒ—áƒ˜áƒ”áƒ áƒ—áƒáƒ‘áƒáƒ¨áƒ˜ áƒ”áƒ›áƒáƒªáƒ˜áƒ£áƒ áƒ˜ áƒ¡áƒ˜áƒ¦áƒ áƒ›áƒ˜áƒ¡ áƒ“áƒáƒ›áƒáƒ¢áƒ”áƒ‘áƒ. áƒ›áƒœáƒ˜áƒ¨áƒ•áƒœáƒ”áƒšáƒáƒ•áƒáƒœáƒ˜áƒ áƒáƒ áƒ áƒ›áƒ®áƒáƒšáƒáƒ“ áƒ˜áƒœáƒ¢áƒ”áƒšáƒ”áƒ¥áƒ¢áƒ£áƒáƒšáƒ£áƒ áƒ˜, áƒáƒ áƒáƒ›áƒ”áƒ“ áƒ”áƒ›áƒáƒªáƒ˜áƒ£áƒ áƒ˜ áƒ™áƒáƒ•áƒ¨áƒ˜áƒ áƒ˜áƒª.'
        },
        'aries-aries': {
            percentage: 70,
            rating: 'áƒ™áƒáƒ áƒ’áƒ˜',
            title: 'áƒáƒ áƒ›áƒáƒ’áƒ˜ áƒ”áƒœáƒ”áƒ áƒ’áƒ˜áƒ',
            description: 'áƒáƒ áƒ˜ áƒ•áƒ”áƒ áƒ«áƒ˜ áƒ”áƒ áƒ—áƒáƒ“ áƒ¥áƒ›áƒœáƒ˜áƒáƒœ áƒ«áƒáƒšáƒ˜áƒáƒœ áƒ”áƒœáƒ”áƒ áƒ’áƒ˜áƒ£áƒš áƒ“áƒ áƒ“áƒ˜áƒœáƒáƒ›áƒ˜áƒ£áƒ , áƒ›áƒáƒ’áƒ áƒáƒ› áƒ®áƒ¨áƒ˜áƒ áƒáƒ“ áƒ™áƒáƒœáƒ™áƒ£áƒ áƒ”áƒœáƒ¢áƒ£áƒš áƒ¬áƒ§áƒ•áƒ˜áƒšáƒ¡.',
            strengths: [
                'áƒ›áƒáƒ¦áƒáƒšáƒ˜ áƒ”áƒœáƒ”áƒ áƒ’áƒ˜áƒ',
                'áƒ£áƒ áƒ—áƒ˜áƒ”áƒ áƒ—áƒ’áƒáƒ’áƒ”áƒ‘áƒ',
                'áƒáƒ•áƒáƒœáƒ¢áƒ£áƒ áƒ”áƒ‘áƒ˜',
                'áƒ“áƒáƒ›áƒáƒ£áƒ™áƒ˜áƒ“áƒ”áƒ‘áƒšáƒáƒ‘áƒ˜áƒ¡ áƒáƒáƒ¢áƒ˜áƒ•áƒ˜áƒ¡áƒªáƒ”áƒ›áƒ'
            ],
            challenges: [
                'áƒ™áƒáƒœáƒ¤áƒšáƒ˜áƒ¥áƒ¢áƒ”áƒ‘áƒ˜ áƒšáƒ˜áƒ“áƒ”áƒ áƒáƒ‘áƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡',
                'áƒ”áƒ’áƒáƒ—áƒ áƒ¨áƒ”áƒ¯áƒáƒ®áƒ”áƒ‘áƒ',
                'áƒ˜áƒ›áƒáƒ£áƒšáƒ¡áƒ£áƒ áƒáƒ‘áƒ',
                'áƒáƒáƒªáƒ˜áƒ”áƒœáƒ¢áƒáƒ‘áƒ˜áƒ¡ áƒœáƒáƒ™áƒšáƒ”áƒ‘áƒáƒ‘áƒ'
            ],
            advice: 'áƒ˜áƒ¡áƒ¬áƒáƒ•áƒšáƒ”áƒ— áƒ™áƒáƒ›áƒáƒ áƒáƒ›áƒ˜áƒ¡áƒ˜ áƒ“áƒ áƒ—áƒáƒœáƒáƒ›áƒ¨áƒ áƒáƒ›áƒšáƒáƒ‘áƒ. áƒáƒ áƒ˜áƒ•áƒ”áƒ› áƒ£áƒœáƒ“áƒ áƒ“áƒáƒ—áƒ›áƒáƒ— áƒšáƒ˜áƒ“áƒ”áƒ áƒáƒ‘áƒ áƒ áƒ˜áƒ’áƒ áƒ˜áƒ’áƒáƒ‘áƒ˜áƒ—.'
        }
    };

    calculate() {
        if (!this.selectedSign1 || !this.selectedSign2) {
            return;
        }

        // áƒ¨áƒ”áƒ•áƒ¥áƒ›áƒœáƒáƒ— key-áƒ”áƒ‘áƒ˜ áƒáƒ áƒ˜áƒ•áƒ” áƒ›áƒ˜áƒ›áƒáƒ áƒ—áƒ£áƒšáƒ”áƒ‘áƒ˜áƒ—
        const key1 = `${this.selectedSign1}-${this.selectedSign2}`;
        const key2 = `${this.selectedSign2}-${this.selectedSign1}`;

        // áƒ•áƒ”áƒ«áƒ”áƒ‘áƒ— áƒ›áƒáƒœáƒáƒªáƒ”áƒ›áƒ”áƒ‘áƒ¡
        let result = this.compatibilityData[key1] || this.compatibilityData[key2];

        // áƒ—áƒ£ áƒ™áƒáƒœáƒ™áƒ áƒ”áƒ¢áƒ£áƒšáƒ˜ áƒ›áƒáƒœáƒáƒªáƒ”áƒ›áƒ”áƒ‘áƒ˜ áƒáƒ  áƒáƒ áƒ˜áƒ¡, áƒ•áƒ˜áƒ§áƒ”áƒœáƒ”áƒ‘áƒ— áƒ”áƒšáƒ”áƒ›áƒ”áƒœáƒ¢áƒ”áƒ‘áƒ˜áƒ¡ áƒ›áƒ˜áƒ®áƒ”áƒ“áƒ•áƒ˜áƒ— áƒ–áƒáƒ’áƒáƒ“ áƒ¨áƒ”áƒ¤áƒáƒ¡áƒ”áƒ‘áƒáƒ¡
        if (!result) {
            result = this.getElementCompatibility(this.selectedSign1, this.selectedSign2);
        }

        this.compatibilityResult = result;
        this.showResult = true;
        this.animatedPercentage = 0;

        // áƒáƒ áƒáƒªáƒ”áƒœáƒ¢áƒ˜áƒ¡ áƒáƒœáƒ˜áƒ›áƒáƒªáƒ˜áƒ
        this.animatePercentage(result.percentage);

        // áƒ”áƒ›áƒáƒ¯áƒ”áƒ‘áƒ˜áƒ¡ áƒáƒœáƒ˜áƒ›áƒáƒªáƒ˜áƒ
        this.createFallingEmojis(result.percentage);
    }

    animatePercentage(targetPercentage: number) {
        const duration = 1500; // 1.5 áƒ¬áƒáƒ›áƒ˜
        const steps = 60;
        const increment = targetPercentage / steps;
        const stepDuration = duration / steps;

        let current = 0;
        const interval = setInterval(() => {
            current += increment;
            if (current >= targetPercentage) {
                this.animatedPercentage = targetPercentage;
                clearInterval(interval);
            } else {
                this.animatedPercentage = Math.round(current);
            }
        }, stepDuration);
    }

    createFallingEmojis(percentage: number) {
        this.fallingEmojis = [];

        // áƒ”áƒ›áƒáƒ¯áƒ”áƒ‘áƒ˜áƒ¡ áƒáƒ áƒ©áƒ”áƒ•áƒ áƒ—áƒáƒ•áƒ¡áƒ”áƒ‘áƒáƒ“áƒáƒ‘áƒ˜áƒ¡ áƒ›áƒ˜áƒ®áƒ”áƒ“áƒ•áƒ˜áƒ—
        let emojis: string[];
        if (percentage >= 80) {
            emojis = ['â¤ï¸', 'ğŸ’•', 'ğŸ’—', 'ğŸ’–', 'ğŸ’˜', 'ğŸ’', 'âœ¨', 'ğŸŒŸ'];
        } else if (percentage >= 60) {
            emojis = ['ğŸ’«', 'â­', 'âœ¨', 'ğŸŒŸ', 'ğŸ’›', 'ğŸ’š', 'ğŸ¤', 'ğŸ˜Š'];
        } else {
            emojis = ['ğŸŒ™', 'âš¡', 'ğŸ’«', 'ğŸ”®', 'ğŸŒ ', 'âœ¨'];
        }

        const emojiCount = percentage >= 80 ? 30 : percentage >= 60 ? 20 : 12;

        for (let i = 0; i < emojiCount; i++) {
            this.fallingEmojis.push({
                id: i,
                emoji: emojis[Math.floor(Math.random() * emojis.length)],
                left: Math.random() * 100,
                delay: Math.random() * 2,
                duration: 3 + Math.random() * 2,
                size: 1 + Math.random() * 1.5
            });
        }

        // 5 áƒ¬áƒáƒ›áƒ˜áƒ¡ áƒ¨áƒ”áƒ›áƒ“áƒ”áƒ’ áƒ’áƒáƒ•áƒáƒ¡áƒ£áƒ¤áƒ—áƒáƒ•áƒáƒ—
        setTimeout(() => {
            this.fallingEmojis = [];
        }, 6000);
    }

    getElementCompatibility(sign1: string, sign2: string): CompatibilityResult {
        const element1 = this.zodiacSigns.find(s => s.id === sign1)?.element || '';
        const element2 = this.zodiacSigns.find(s => s.id === sign2)?.element || '';

        // áƒ”áƒšáƒ”áƒ›áƒ”áƒœáƒ¢áƒ”áƒ‘áƒ˜áƒ¡ áƒ—áƒáƒ•áƒ¡áƒ”áƒ‘áƒáƒ“áƒáƒ‘áƒ
        const elementPairs: { [key: string]: number } = {
            'fire-fire': 75,
            'fire-air': 80,
            'fire-earth': 50,
            'fire-water': 45,
            'earth-earth': 80,
            'earth-air': 55,
            'earth-water': 85,
            'air-air': 75,
            'air-water': 60,
            'water-water': 85
        };

        const key = `${element1}-${element2}`;
        const reverseKey = `${element2}-${element1}`;
        const percentage = elementPairs[key] || elementPairs[reverseKey] || 60;

        return {
            percentage,
            rating: percentage >= 80 ? 'áƒ¨áƒ”áƒ¡áƒáƒœáƒ˜áƒ¨áƒœáƒáƒ•áƒ˜' : percentage >= 60 ? 'áƒ™áƒáƒ áƒ’áƒ˜' : 'áƒ¡áƒáƒ¨áƒ£áƒáƒšáƒ',
            title: 'áƒ–áƒáƒ’áƒáƒ“áƒ˜ áƒ—áƒáƒ•áƒ¡áƒ”áƒ‘áƒáƒ“áƒáƒ‘áƒ',
            description: `${this.getSignName(sign1)} áƒ“áƒ ${this.getSignName(sign2)} áƒáƒ¥áƒ•áƒ— ${percentage}% áƒ—áƒáƒ•áƒ¡áƒ”áƒ‘áƒáƒ“áƒáƒ‘áƒ áƒ”áƒšáƒ”áƒ›áƒ”áƒœáƒ¢áƒ”áƒ‘áƒ˜áƒ¡ áƒ›áƒ˜áƒ®áƒ”áƒ“áƒ•áƒ˜áƒ—.`,
            strengths: ['áƒ¡áƒáƒ”áƒ áƒ—áƒ áƒ˜áƒœáƒ¢áƒ”áƒ áƒ”áƒ¡áƒ”áƒ‘áƒ˜', 'áƒ£áƒ áƒ—áƒ˜áƒ”áƒ áƒ—áƒ’áƒáƒ’áƒ”áƒ‘áƒ', 'áƒ‘áƒáƒšáƒáƒœáƒ¡áƒ˜'],
            challenges: ['áƒ’áƒáƒœáƒ¡áƒ®áƒ•áƒáƒ•áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ›áƒ˜áƒ“áƒ’áƒáƒ›áƒ”áƒ‘áƒ˜', 'áƒ™áƒáƒ›áƒ£áƒœáƒ˜áƒ™áƒáƒªáƒ˜áƒ˜áƒ¡ áƒ’áƒáƒ£áƒ›áƒ¯áƒáƒ‘áƒ”áƒ¡áƒ”áƒ‘áƒ áƒ¡áƒáƒ­áƒ˜áƒ áƒáƒ'],
            advice: 'áƒ˜áƒ¡áƒ¬áƒáƒ•áƒšáƒ”áƒ— áƒ”áƒ áƒ—áƒ›áƒáƒœáƒ”áƒ—áƒ˜áƒ¡ áƒ«áƒšáƒ˜áƒ”áƒ áƒ˜ áƒ“áƒ áƒ¡áƒ£áƒ¡áƒ¢áƒ˜ áƒ›áƒ®áƒáƒ áƒ”áƒ”áƒ‘áƒ˜áƒ¡ áƒ’áƒáƒ’áƒ”áƒ‘áƒ áƒ“áƒ áƒáƒáƒ¢áƒ˜áƒ•áƒ˜áƒ¡áƒªáƒ”áƒ›áƒ.'
        };
    }

    getSignName(id: string): string {
        return this.zodiacSigns.find(s => s.id === id)?.name || '';
    }

    getSignIcon(id: string): string {
        return this.zodiacSigns.find(s => s.id === id)?.icon || '';
    }

    reset() {
        this.selectedSign1 = '';
        this.selectedSign2 = '';
        this.showResult = false;
        this.compatibilityResult = null;
        this.animatedPercentage = 0;
        this.fallingEmojis = [];
    }

    getRatingClass(): string {
        if (!this.compatibilityResult) return '';
        const percentage = this.compatibilityResult.percentage;
        if (percentage >= 80) return 'excellent';
        if (percentage >= 60) return 'good';
        return 'average';
    }
}
